{{define "validation_body"}}
{{- $displayFuncName := displayName .FunctionInfo }}
{{- $nonErrorResults := 0 }}
{{- $errorCount := 0 }}
{{- range $i, $r := .Results }}
    {{- if eq $r.Type "error" }}
        {{- $errorCount = add $errorCount 1 }}
    {{- else }}
        {{- $nonErrorResults = add $nonErrorResults 1 }}
    {{- end }}
{{- end }}
{{- $hasErr := gt $errorCount 0 }}
{{- $multipleErrors := gt $errorCount 1 }}
    {{- $counter := 0 }}
    {{- range $i, $r := .Results }}
        {{- if ne $r.Type "error" }}
            {{- if not (isFunc $r.Type) }}
        if !reflect.DeepEqual(got{{$i}}, tt.want.want{{$counter}}) {
            return fmt.Errorf("{{$displayFuncName}}() got{{$i}} = %v, want %v", got{{$i}}, tt.want.want{{$counter}})
        }
            {{- end }}
        {{- $counter = add $counter 1 }}
        {{- else if $multipleErrors }}
        if fmt.Sprint(gotErr{{$i}}) != fmt.Sprint(tt.want.wantErr{{$i}}) {
            return fmt.Errorf("{{$displayFuncName}}() error{{$i}} = %v, wantErr{{$i}} %v", gotErr{{$i}}, tt.want.wantErr{{$i}})
        }
            {{- end }}
        {{- end }}
        {{- if and $hasErr (not $multipleErrors) }}
        if fmt.Sprint(gotErr) != fmt.Sprint(tt.want.wantErr) {
            return fmt.Errorf("{{$displayFuncName}}() error = %v, wantErr %v", gotErr, tt.want.wantErr)
        }
        {{- end}}
        return nil
{{- end}}
